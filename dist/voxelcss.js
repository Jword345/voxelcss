"use strict";var _slicedToArray=function(){function e(e,t){var r=[],a=!0,o=!1,n=void 0;try{for(var s,i=e[Symbol.iterator]();!(a=(s=i.next()).done)&&(r.push(s.value),!(t&&r.length===t));a=!0);}catch(e){o=!0,n=e}finally{try{!a&&i["return"]&&i["return"]()}finally{if(o)throw n}}return r}return function(t,r){if(Array.isArray(t))return t;if(Symbol.iterator in Object(t))return e(t,r);throw new TypeError("Invalid attempt to destructure non-iterable instance")}}(),_typeof="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e};function _defineProperty(e,t,r){return t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function _toConsumableArray(e){if(Array.isArray(e)){for(var t=0,r=Array(e.length);t<e.length;t++)r[t]=e[t];return r}return Array.from(e)}(function(e){if("object"===("undefined"==typeof exports?"undefined":_typeof(exports))&&"undefined"!=typeof module)module.exports=e();else if("function"==typeof define&&define.amd)define([],e);else{var t;t="undefined"==typeof window?"undefined"==typeof global?"undefined"==typeof self?this:self:global:window,t.voxelcss=e()}})(function(){var e=Math.sqrt,t=Math.pow,r=Math.max,a=Math.PI;return function m(c,e,t){function r(s,o){if(!e[s]){if(!c[s]){var i="function"==typeof require&&require;if(!o&&i)return i(s,!0);if(n)return n(s,!0);var a=new Error("Cannot find module '"+s+"'");throw a.code="MODULE_NOT_FOUND",a}var x=e[s]={exports:{}};c[s][0].call(x.exports,function(t){var e=c[s][1][t];return r(e?e:t)},x,x.exports,m,c,e,t)}return e[s].exports}for(var n="function"==typeof require&&require,a=0;a<t.length;a++)r(t[a]);return r}({1:[function(e,t){var r=".voxelcss-scene {\n  position: absolute;\n  top: 0;\n  left: 0;\n  width: 100%;\n  height: 100%;\n  overflow: hidden;\n  -webkit-user-select: none;\n  -moz-user-select: none;\n  -ms-user-select: none;\n  user-select: none;\n  -webkit-perspective: 1000px;\n  perspective: 1000px;\n  -webkit-perspective-origin: 50% 50%;\n  perspective-origin: 50% 50%;\n  cursor: move;\n}\n.voxelcss-scene .camera,\n.voxelcss-scene .zoom {\n  top: 50%;\n  left: 50%;\n  width: 0;\n  height: 0;\n  overflow: visible;\n}\n.voxelcss-cube,\n.voxelcss-scene .camera,\n.voxelcss-scene .zoom {\n  position: absolute;\n  -webkit-transform-style: preserve-3d;\n  transform-style: preserve-3d;\n}\n.voxelcss-cube:hover img {\n  visibility: hidden!important;\n}\n.voxelcss-cube:hover .voxelcss-face {\n  background: rgba(0,0,0,.3)!important;\n}\n.voxelcss-cube:hover .voxelcss-face .shader {\n  opacity: 0!important;\n}\n.voxelcss-cube .animated-down,\n.voxelcss-cube .animated-up {\n  -webkit-transform-style: preserve-3d;\n  transform-style: preserve-3d;\n}\n.voxelcss-cube .animated-up {\n  -webkit-animation: a 1s linear both;\n  animation: a 1s linear both;\n}\n.voxelcss-cube .animated-down {\n  -webkit-animation: b 1s linear both;\n  animation: b 1s linear both;\n}\n.voxelcss-face {\n  display: block;\n  position: absolute;\n  outline: none;\n  border: none;\n  margin-left: -18px;\n  margin-top: -18px;\n  width: 36px;\n  height: 36px;\n  cursor: pointer;\n}\n.voxelcss-face img {\n  width: 100%;\n  height: 100%;\n}\n.voxelcss-face img.colored {\n  visibility: hidden;\n}\n.voxelcss-face .shader {\n  display: block;\n  position: absolute;\n  top: 0;\n  left: 0;\n  width: 100%;\n  height: 100%;\n  background: #000;\n  opacity: 0;\n}\n@-webkit-keyframes a {\n  0% {\n    opacity: 0;\n    -webkit-transform: matrix(1,0,0,1,0,300);\n    transform: matrix(1,0,0,1,0,300);\n  }\n\n  1.3% {\n    -webkit-transform: matrix(1,0,0,3.905,0,237.02);\n    transform: matrix(1,0,0,3.905,0,237.02);\n  }\n\n  2.55% {\n    -webkit-transform: matrix(1,0,0,4.554,0,182.798);\n    transform: matrix(1,0,0,4.554,0,182.798);\n  }\n\n  4.1% {\n    -webkit-transform: matrix(1,0,0,4.025,0,125.912);\n    transform: matrix(1,0,0,4.025,0,125.912);\n  }\n\n  5.71% {\n    -webkit-transform: matrix(1,0,0,3.039,0,79.596);\n    transform: matrix(1,0,0,3.039,0,79.596);\n  }\n\n  8.11% {\n    opacity: 1;\n    -webkit-transform: matrix(1,0,0,1.82,0,31.647);\n    transform: matrix(1,0,0,1.82,0,31.647);\n  }\n\n  8.81% {\n    -webkit-transform: matrix(1,0,0,1.581,0,21.84);\n    transform: matrix(1,0,0,1.581,0,21.84);\n  }\n\n  11.96% {\n    -webkit-transform: matrix(1,0,0,1.034,0,-4.825);\n    transform: matrix(1,0,0,1.034,0,-4.825);\n  }\n\n  12.11% {\n    -webkit-transform: matrix(1,0,0,1.023,0,-5.53);\n    transform: matrix(1,0,0,1.023,0,-5.53);\n  }\n\n  15.07% {\n    -webkit-transform: matrix(1,0,0,.947,0,-12.662);\n    transform: matrix(1,0,0,.947,0,-12.662);\n  }\n\n  16.12% {\n    -webkit-transform: matrix(1,0,0,.951,0,-13.007);\n    transform: matrix(1,0,0,.951,0,-13.007);\n  }\n\n  27.23% {\n    -webkit-transform: matrix(1,0,0,1.001,0,-2.352);\n    transform: matrix(1,0,0,1.001,0,-2.352);\n  }\n\n  27.58% {\n    -webkit-transform: matrix(1,0,0,1.001,0,-2.121);\n    transform: matrix(1,0,0,1.001,0,-2.121);\n  }\n\n  38.34% {\n    -webkit-transform: matrix(1,0,0,1,0,.311);\n    transform: matrix(1,0,0,1,0,.311);\n  }\n\n  40.09% {\n    -webkit-transform: matrix(1,0,0,1,0,.291);\n    transform: matrix(1,0,0,1,0,.291);\n  }\n\n  50% {\n    -webkit-transform: matrix(1,0,0,1,0,.048);\n    transform: matrix(1,0,0,1,0,.048);\n  }\n\n  60.56% {\n    -webkit-transform: matrix(1,0,0,1,0,-.007);\n    transform: matrix(1,0,0,1,0,-.007);\n  }\n\n  82.78% {\n    -webkit-transform: matrix(1,0,0,1,0,0);\n    transform: matrix(1,0,0,1,0,0);\n  }\n\n  to {\n    -webkit-transform: matrix(1,0,0,1,0,0);\n    transform: matrix(1,0,0,1,0,0);\n  }\n}\n@keyframes a {\n  0% {\n    opacity: 0;\n    -webkit-transform: matrix(1,0,0,1,0,300);\n    transform: matrix(1,0,0,1,0,300);\n  }\n\n  1.3% {\n    -webkit-transform: matrix(1,0,0,3.905,0,237.02);\n    transform: matrix(1,0,0,3.905,0,237.02);\n  }\n\n  2.55% {\n    -webkit-transform: matrix(1,0,0,4.554,0,182.798);\n    transform: matrix(1,0,0,4.554,0,182.798);\n  }\n\n  4.1% {\n    -webkit-transform: matrix(1,0,0,4.025,0,125.912);\n    transform: matrix(1,0,0,4.025,0,125.912);\n  }\n\n  5.71% {\n    -webkit-transform: matrix(1,0,0,3.039,0,79.596);\n    transform: matrix(1,0,0,3.039,0,79.596);\n  }\n\n  8.11% {\n    opacity: 1;\n    -webkit-transform: matrix(1,0,0,1.82,0,31.647);\n    transform: matrix(1,0,0,1.82,0,31.647);\n  }\n\n  8.81% {\n    -webkit-transform: matrix(1,0,0,1.581,0,21.84);\n    transform: matrix(1,0,0,1.581,0,21.84);\n  }\n\n  11.96% {\n    -webkit-transform: matrix(1,0,0,1.034,0,-4.825);\n    transform: matrix(1,0,0,1.034,0,-4.825);\n  }\n\n  12.11% {\n    -webkit-transform: matrix(1,0,0,1.023,0,-5.53);\n    transform: matrix(1,0,0,1.023,0,-5.53);\n  }\n\n  15.07% {\n    -webkit-transform: matrix(1,0,0,.947,0,-12.662);\n    transform: matrix(1,0,0,.947,0,-12.662);\n  }\n\n  16.12% {\n    -webkit-transform: matrix(1,0,0,.951,0,-13.007);\n    transform: matrix(1,0,0,.951,0,-13.007);\n  }\n\n  27.23% {\n    -webkit-transform: matrix(1,0,0,1.001,0,-2.352);\n    transform: matrix(1,0,0,1.001,0,-2.352);\n  }\n\n  27.58% {\n    -webkit-transform: matrix(1,0,0,1.001,0,-2.121);\n    transform: matrix(1,0,0,1.001,0,-2.121);\n  }\n\n  38.34% {\n    -webkit-transform: matrix(1,0,0,1,0,.311);\n    transform: matrix(1,0,0,1,0,.311);\n  }\n\n  40.09% {\n    -webkit-transform: matrix(1,0,0,1,0,.291);\n    transform: matrix(1,0,0,1,0,.291);\n  }\n\n  50% {\n    -webkit-transform: matrix(1,0,0,1,0,.048);\n    transform: matrix(1,0,0,1,0,.048);\n  }\n\n  60.56% {\n    -webkit-transform: matrix(1,0,0,1,0,-.007);\n    transform: matrix(1,0,0,1,0,-.007);\n  }\n\n  82.78% {\n    -webkit-transform: matrix(1,0,0,1,0,0);\n    transform: matrix(1,0,0,1,0,0);\n  }\n\n  to {\n    -webkit-transform: matrix(1,0,0,1,0,0);\n    transform: matrix(1,0,0,1,0,0);\n  }\n}\n@-webkit-keyframes b {\n  0% {\n    opacity: 0;\n    -webkit-transform: matrix(1,0,0,1,0,-300);\n    transform: matrix(1,0,0,1,0,-300);\n  }\n\n  1.3% {\n    -webkit-transform: matrix(1,0,0,3.905,0,-237.02);\n    transform: matrix(1,0,0,3.905,0,-237.02);\n  }\n\n  2.55% {\n    -webkit-transform: matrix(1,0,0,4.554,0,-182.798);\n    transform: matrix(1,0,0,4.554,0,-182.798);\n  }\n\n  4.1% {\n    -webkit-transform: matrix(1,0,0,4.025,0,-125.912);\n    transform: matrix(1,0,0,4.025,0,-125.912);\n  }\n\n  5.71% {\n    -webkit-transform: matrix(1,0,0,3.039,0,-79.596);\n    transform: matrix(1,0,0,3.039,0,-79.596);\n  }\n\n  8.11% {\n    opacity: 1;\n    -webkit-transform: matrix(1,0,0,1.82,0,-31.647);\n    transform: matrix(1,0,0,1.82,0,-31.647);\n  }\n\n  8.81% {\n    -webkit-transform: matrix(1,0,0,1.581,0,-21.84);\n    transform: matrix(1,0,0,1.581,0,-21.84);\n  }\n\n  11.96% {\n    -webkit-transform: matrix(1,0,0,1.034,0,4.825);\n    transform: matrix(1,0,0,1.034,0,4.825);\n  }\n\n  12.11% {\n    -webkit-transform: matrix(1,0,0,1.023,0,5.53);\n    transform: matrix(1,0,0,1.023,0,5.53);\n  }\n\n  15.07% {\n    -webkit-transform: matrix(1,0,0,.947,0,12.662);\n    transform: matrix(1,0,0,.947,0,12.662);\n  }\n\n  16.12% {\n    -webkit-transform: matrix(1,0,0,.951,0,13.007);\n    transform: matrix(1,0,0,.951,0,13.007);\n  }\n\n  27.23% {\n    -webkit-transform: matrix(1,0,0,1.001,0,2.352);\n    transform: matrix(1,0,0,1.001,0,2.352);\n  }\n\n  27.58% {\n    -webkit-transform: matrix(1,0,0,1.001,0,2.121);\n    transform: matrix(1,0,0,1.001,0,2.121);\n  }\n\n  38.34% {\n    -webkit-transform: matrix(1,0,0,1,0,-.311);\n    transform: matrix(1,0,0,1,0,-.311);\n  }\n\n  40.09% {\n    -webkit-transform: matrix(1,0,0,1,0,-.291);\n    transform: matrix(1,0,0,1,0,-.291);\n  }\n\n  50% {\n    -webkit-transform: matrix(1,0,0,1,0,-.048);\n    transform: matrix(1,0,0,1,0,-.048);\n  }\n\n  60.56% {\n    -webkit-transform: matrix(1,0,0,1,0,.007);\n    transform: matrix(1,0,0,1,0,.007);\n  }\n\n  82.78% {\n    -webkit-transform: matrix(1,0,0,1,0,0);\n    transform: matrix(1,0,0,1,0,0);\n  }\n\n  to {\n    -webkit-transform: matrix(1,0,0,1,0,0);\n    transform: matrix(1,0,0,1,0,0);\n  }\n}\n@keyframes b {\n  0% {\n    opacity: 0;\n    -webkit-transform: matrix(1,0,0,1,0,-300);\n    transform: matrix(1,0,0,1,0,-300);\n  }\n\n  1.3% {\n    -webkit-transform: matrix(1,0,0,3.905,0,-237.02);\n    transform: matrix(1,0,0,3.905,0,-237.02);\n  }\n\n  2.55% {\n    -webkit-transform: matrix(1,0,0,4.554,0,-182.798);\n    transform: matrix(1,0,0,4.554,0,-182.798);\n  }\n\n  4.1% {\n    -webkit-transform: matrix(1,0,0,4.025,0,-125.912);\n    transform: matrix(1,0,0,4.025,0,-125.912);\n  }\n\n  5.71% {\n    -webkit-transform: matrix(1,0,0,3.039,0,-79.596);\n    transform: matrix(1,0,0,3.039,0,-79.596);\n  }\n\n  8.11% {\n    opacity: 1;\n    -webkit-transform: matrix(1,0,0,1.82,0,-31.647);\n    transform: matrix(1,0,0,1.82,0,-31.647);\n  }\n\n  8.81% {\n    -webkit-transform: matrix(1,0,0,1.581,0,-21.84);\n    transform: matrix(1,0,0,1.581,0,-21.84);\n  }\n\n  11.96% {\n    -webkit-transform: matrix(1,0,0,1.034,0,4.825);\n    transform: matrix(1,0,0,1.034,0,4.825);\n  }\n\n  12.11% {\n    -webkit-transform: matrix(1,0,0,1.023,0,5.53);\n    transform: matrix(1,0,0,1.023,0,5.53);\n  }\n\n  15.07% {\n    -webkit-transform: matrix(1,0,0,.947,0,12.662);\n    transform: matrix(1,0,0,.947,0,12.662);\n  }\n\n  16.12% {\n    -webkit-transform: matrix(1,0,0,.951,0,13.007);\n    transform: matrix(1,0,0,.951,0,13.007);\n  }\n\n  27.23% {\n    -webkit-transform: matrix(1,0,0,1.001,0,2.352);\n    transform: matrix(1,0,0,1.001,0,2.352);\n  }\n\n  27.58% {\n    -webkit-transform: matrix(1,0,0,1.001,0,2.121);\n    transform: matrix(1,0,0,1.001,0,2.121);\n  }\n\n  38.34% {\n    -webkit-transform: matrix(1,0,0,1,0,-.311);\n    transform: matrix(1,0,0,1,0,-.311);\n  }\n\n  40.09% {\n    -webkit-transform: matrix(1,0,0,1,0,-.291);\n    transform: matrix(1,0,0,1,0,-.291);\n  }\n\n  50% {\n    -webkit-transform: matrix(1,0,0,1,0,-.048);\n    transform: matrix(1,0,0,1,0,-.048);\n  }\n\n  60.56% {\n    -webkit-transform: matrix(1,0,0,1,0,.007);\n    transform: matrix(1,0,0,1,0,.007);\n  }\n\n  82.78% {\n    -webkit-transform: matrix(1,0,0,1,0,0);\n    transform: matrix(1,0,0,1,0,0);\n  }\n\n  to {\n    -webkit-transform: matrix(1,0,0,1,0,0);\n    transform: matrix(1,0,0,1,0,0);\n  }\n}\n";e("browserify-css").createStyle(r,{href:"dist/voxelcss.css"},{insertAt:"bottom"}),t.exports=r},{"browserify-css":15}],2:[function(e,t){"use strict";function r(){function e(){for(var o=arguments.length,n=Array(o),s=0;s<o;s++)n[s]=arguments[s];var m=n[0],c="undefined"==typeof m?"undefined":_typeof(m),l=t,x=m;if(1===arguments.length&&"number"!==c)"string"===c&&(l=function(t){return e(i(t))});else{var f=n[0],d=n[1],p=n[2],h=n[3];x={r:f,g:d,b:p,a:h}}l(x)}function t(e){var t=e.r,i=e.g,m=e.b,c=e.a;if([t,i,m].every(n))return d.trigger("change",{target:d}),o(f,{r:t,g:i,b:m,a:n(c)?c:1});if([t,i,m].every(s))return f;throw"Face color RGB values must be numbers"}for(var a=arguments.length,l=Array(a),x=0;x<a;x++)l[x]=arguments[x];var f={r:0,g:0,b:0,a:1},d=o(this,c,{setColor:e,getColor:function getColor(){return f},getHex:function getHex(){return m(f)},clone:function clone(){return new r(f)},serialize:function serialize(){return JSON.stringify(f)}});e.apply(void 0,l)}var o=Object.assign,a=e("./common"),n=a.isNumber,s=a.isUndefined,i=a.hexToRgb,m=a.rgbToHex,c=e("./events");t.exports=r,r.loadFromSerial=function(e){var t=JSON.parse(e);return new r(t)}},{"./common":10,"./events":11}],3:[function(e,t){"use strict";var r=Object.assign;t.exports=function(e,t){function a(t){return t.off(),c(t),e.add(t),s.canAutoSave()&&e.save(),s}function o(t){return e.remove(t)&&t.off(),s.canAutoSave()&&e.save(),s}function n(e,t){if(s.isEnabled()){var r,o=e.target,n=o.getDimension();t=t.map(function(e){return e*n}),a((r=o.clone()).translate.apply(r,_toConsumableArray(t)))}}if(e===void 0)throw"Editor requires World instance for initialization";var s=this,i=t!==void 0&&!0===t.autosave,m=!0,c=function(e){return e.on({"change:mesh":function changeMesh(){return s.canAutoSave()&&s.save()},contextmenu:function contextmenu(t){return s.isEnabled()&&o(t.target)},"click:top":function clickTop(t){return n(t,[0,1,0])},"click:bottom":function clickBottom(t){return n(t,[0,-1,0])},"click:front":function clickFront(t){return n(t,[0,0,1])},"click:back":function clickBack(t){return n(t,[0,0,-1])},"click:left":function clickLeft(t){return n(t,[-1,0,0])},"click:right":function clickRight(t){return n(t,[1,0,0])}})},l=function(){return e.getVoxels().forEach(c)};r(s,{add:a,remove:o,getWorld:function getWorld(){return e},isEnabled:function isEnabled(){return m},enable:function enable(){return m=!0},disable:function disable(){return m=!1},canAutoSave:function canAutoSave(){return i},enableAutoSave:function enableAutoSave(){return i=!0},disableAutoSave:function disableAutoSave(){return i=!1},isSaved:function isSaved(){return e.isSaved()},deleteSave:function deleteSave(){return e.deleteSave()},export:function _export(){return e.export()},import:function _import(t){e.import(t),l()},save:function save(){return e.save()},load:function load(){e.load(),l()}}),l()}},{}],4:[function(e,t){"use strict";function r(e){function t(e){return e&&(s=e,m.trigger("change",{target:m})),s}var s=n,i=function(){return s},m=a(this,o,{setSource:t,getSource:i,serialize:i,clone:function clone(){return new r(s)}});t(e)}var a=Object.assign,o=e("./events"),n="data:image/gif;base64,R0lGODlhAQABAIAAAAAAAP///yH5BAEAAAAALAAAAAABAAEAAAIBRAA7";t.exports=r,r.loadFromSerial=function(e){return new r(e)}},{"./events":11}],5:[function(e,t){"use strict";var r=Object.assign,a=e("./common"),o=a.isNumber,n=e("./events"),s=e("./positioned");t.exports=function(e,t){var a=2<arguments.length&&arguments[2]!==void 0?arguments[2]:.2,i=3<arguments.length&&arguments[3]!==void 0?arguments[3]:1,m=500,c=1,l=0,x=function(){return[l,c]},g=r(s(r(this,n)),{setBrightness:function(e,t){return o(t)&&(c=t),o(e)&&(l=e),[e,t].some(o)&&g.trigger("change",{target:g}),g},getBrightness:x,setTravelDistance:function(e){return o(e)&&(m=e,g.trigger("change",{target:g})),g},getTravelDistance:function getTravelDistance(){return m}});g.setPosition(e).setTravelDistance(t).setBrightness(a,i)}},{"./common":10,"./events":11,"./positioned":14}],6:[function(e,t){"use strict";function r(e){function t(e){return i(g,e)}function r(e){return!!t(e.constructor)}function a(e){return P(e)&&(w=e,w.on("change",u),z&&k()),L}function n(e){return P(e)&&(y=e,y.on("change",u),z&&k()),L}function x(e){return P(e)&&(A=e,A.on("change",u),z&&k()),L}function f(e){return P(e)&&(E=e,E.on("change",u),z&&k()),L}function d(e){return P(e)&&(S=e,S.on("change",u),z&&k()),L}function p(e){return P(e)&&(_=e,_.on("change",u),z&&k()),L}function h(e){var t=b();if(e){r(e)&&(e=m(b(),s(e))),z=!1;var a=e,o=a.front,n=a.back,i=a.left,c=a.right,l=a.top,x=a.bottom;L.setFront(o).setBack(n).setLeft(i).setRight(c).setTop(l).setBottom(x),k(),z=!0}return t}function b(){return{front:w,back:y,left:A,right:E,top:S,bottom:_}}function v(e){return t(e.constructor)+"("+e.serialize()+")"}function u(){k()}function k(){var e=b();L.trigger("change",{target:L,faces:e})}var w,y,A,E,S,_,z=!0,P=function(e){return e!==void 0&&r(e)},L=o(this,c,{setFront:a,setBack:n,setLeft:x,setRight:f,setTop:d,setBottom:p,setFaces:h,getFaces:b,serialize:function(){return JSON.stringify(m(b(),v))},getFront:function getFront(){return w},getBack:function getBack(){return y},getLeft:function getLeft(){return A},getRight:function getRight(){return E},getTop:function getTop(){return S},getBottom:function getBottom(){return _}});h(e||new l)}function a(e){var t=e.indexOf("("),r=e.slice(0,t),a=e.slice(t+1,-1);return g[r].loadFromSerial(a)}var o=Object.assign,n=e("./common"),s=n.constant,i=n.findKeyWithValue,m=n.mapValues,c=e("./events"),l=e("./ImageFace"),x=e("./ColorFace"),g={image:l,color:x};t.exports=r,r.loadFromSerial=function(e){return new r(m(JSON.parse(e),a))}},{"./ColorFace":2,"./ImageFace":4,"./common":10,"./events":11}],7:[function(e,t){"use strict";var r=Object.assign,o=e("./common"),n=o.getDistance,s=o.isNumber,i=o.isShiftKey,m=o.not,c=e("./events"),l=function(t){return t.x||t.clientX||t.touches[0].pageX},g=function(t){return t.y||t.clientY||t.touches[0].pageY};t.exports=function(){function e(e,t){return s(t)&&(G[e]+=t,Y()),ie}function t(e,t){return s(t)&&(G[e]=t,Y()),ie}function o(e,t,r){f("x",e),f("y",t),f("z",r)}function f(e,t){return s(t)&&(Q[e]+=t,Y()),ie}function d(e,t){return s(t)&&(Q[e]=t,Y()),ie}function p(){return Q}function h(e){return s(e)&&(J+=e,Y()),ie}function b(){return J}function v(e){if(!j)N=e,e.appendChild(V),j=!0;else throw"Cannot attach currently attached scene"}function u(){if(j){j=!1;var e=V,t=e.parentElement;t&&t.removeChild(V)}else throw"Cannot detach currently detached scene"}function k(e){H.appendChild(e.getDomElement()),ne.push(e),e.setParentScene(ie),0!==oe.length&&e.updateLightSource(oe)}function w(e){H.removeChild(e.getDomElement()),ne.splice(ne.indexOf(e),1),e.removeParentScene()}function A(){V=document.createElement("div"),W=document.createElement("div"),H=document.createElement("div"),V.setAttribute("class","voxelcss-scene"),W.setAttribute("class","zoom"),H.setAttribute("class","camera"),V.appendChild(W),W.appendChild(H)}function E(e){O(e),window.addEventListener("mousemove",_),window.addEventListener("mouseup",S)}function S(){I()}function _(e){var t=l(e),r=g(e),n=t-$.current.x,s=r-$.current.y;if($.current={x:t,y:r},re&&$.shiftDown)o(n,s),Y(),ie.trigger("pan",B());else if(te){var i=2*a*2;G.y+=n/window.innerWidth*i,G.x-=s/window.innerHeight*i,Y(),ie.trigger("rotate",B())}}function P(e){e.preventDefault();var t=e.touches;O(e),window.addEventListener("touchmove",L,{passive:!1}),1<t.length&&(ee=Z(t))}function L(e){e.preventDefault();var t=l(e),r=g(e),n=t-$.current.x,s=r-$.current.y;$.current={x:t,y:r};var i=e.touches;if(1===i.length&&te){var m=2*a*2;G.y+=n/window.innerWidth*m,G.x-=s/window.innerHeight*m,Y(),ie.trigger("rotate",B())}else if(2===i.length&&ae){var c=Z(i),f=0<c-ee,d=f?1:-1;h(d*c/(ee*100)),ee=c}else 3===i.length&&re&&(o(n,s),Y(),ie.trigger("pan",B()))}function F(e){return ae&&(h(e.deltaY/500),e.preventDefault(),ie.trigger("zoom",B())),!1}function C(){V.addEventListener("mousedown",E),V.addEventListener("mousewheel",F),V.addEventListener("wheel",F),V.addEventListener("touchstart",P)}function T(){window.addEventListener("keydown",R),window.addEventListener("keyup",M)}function I(){window.removeEventListener("mousemove",_),window.removeEventListener("mouseup",S)}function D(){window.removeEventListener("keydown",R),window.removeEventListener("keyup",M)}function R(e){$.shiftDown=i(e)}function M(e){$.shiftDown=m(i)(e)}function B(){return{rotation:se(),pan:p(),zoom:b(),target:ie}}function Z(e){var t=[l,g],r=t.map(function(t){return t(e.item(0))}),a=_slicedToArray(r,2),o=a[0],s=a[1],i=t.map(function(t){return t(e.item(1))}),m=_slicedToArray(i,2),c=m[0],x=m[1];return n(c-o,x-s)}function Y(){var e=se(),t=e.x,r=e.y,a=e.z,o=b(),n=p();H.style.transform="rotateX("+t+"rad) rotateY("+r+"rad) rotateZ("+a+"rad)",W.style.transform="scale("+o+", "+o+") translateX("+n.x+"px) translateY("+n.y+"px) translateZ("+n.z+"px)",X()}function X(){0!==oe.length&&ne.forEach(function(e){return e.updateLightSource(oe)})}function O(e){var t=l(e),r=g(e);$.current={x:t,y:r}}var N,V,W,H,j=!1,q=0,U=0,K=0,G={x:q,y:U,z:K},Q={x:q,y:U,z:K},J=1,$={current:{x:q,y:U},shiftDown:!1},ee=0,te=!0,re=!0,ae=!0,oe=[],ne=[],se=function(){return G},ie=r(this,c,{attach:v,detach:u,add:k,remove:w,getVoxels:function getVoxels(){return ne},pan:o,setPan:function(e,t,r){return d("x",e),d("y",t),d("z",r),Y(),ie},getPan:p,rotate:function(t,r,a){return e("x",t),e("y",r),e("z",a),ie},setRotation:function(e,r,a){return t("x",e),t("y",r),t("z",a),Y(),ie},getRotation:se,zoom:h,setZoom:function(e){return s(e)&&(J=e,Y()),ie},getZoom:b,addLightSource:function(e){var t=oe.indexOf(e);return!(-1!==t)&&(e.on("change move",X),oe.push(e),X(),!0)},getLightSources:function getLightSources(){return oe},removeLightSource:function(e){var t=oe.indexOf(e);return-1!==t&&(e.off("change move"),oe.splice(t,1),X(),!0)},canRotate:function canRotate(){return te},canPan:function canPan(){return re},canZoom:function canZoom(){return ae},enableRotate:function enableRotate(){return te=!0},enablePan:function enablePan(){return re=!0},enableZoom:function enableZoom(){return ae=!0},disableRotate:function disableRotate(){return te=!1},disablePan:function disablePan(){return re=!1},disableZoom:function disableZoom(){return ae=!1},isAttached:function isAttached(){return j},getRotationX:function getRotationX(){return G.x},getRotationY:function getRotationY(){return G.y},getRotationZ:function getRotationZ(){return G.z},rotateX:function rotateX(t){return e("x",t)},rotateY:function rotateY(t){return e("y",t)},rotateZ:function rotateZ(t){return e("z",t)},setRotationX:function setRotationX(e){return t("x",e)},setRotationY:function setRotationY(e){return t("y",e)},setRotationZ:function setRotationZ(e){return t("z",e)},panX:function panX(e){return f("x",e)},panY:function panY(e){return f("y",e)},panZ:function panZ(e){return f("z",e)},setPanX:function setPanX(e){return d("x",e)},setPanY:function setPanY(e){return d("y",e)},setPanZ:function setPanZ(e){return d("z",e)},getElement:function getElement(){return V},getParentElement:function getParentElement(){return N},getInteractionState:function getInteractionState(e){return e?$[e]:$},bind:function bind(){C(),T()},unbind:function unbind(){I(),D()}});A(),C(),T()}},{"./common":10,"./events":11}],8:[function(o,n){"use strict";function s(){var N=0<arguments.length&&arguments[0]!==void 0?arguments[0]:[0,0,0],V=1<arguments.length&&arguments[1]!==void 0?arguments[1]:z,W=2<arguments.length&&arguments[2]!==void 0?arguments[2]:{},H=void 0,j=void 0,q=void 0,U=void 0,K=void 0,G={},Q=0,J=i(y(i(this,w)),{clone:D,animUp:t,animDown:r,addToScene:a,removeFromScene:n,setParentScene:function(e){U=e},removeParentScene:function(){U=void 0},setDimension:h,getDimension:I,updateLightSource:function(e){var t=function(e){return d(e,3)},r=1,a=1,o=1,n=1,s=1,i=1;e.forEach(function(e){var m=[e.getPositionX(),e.getPositionY(),e.getPositionZ()],c=e.getBrightness(),l=e.getTravelDistance(),p=c[1]-c[0],h=1-c[1],b=function(e){var r=_slicedToArray(e,3),a=r[0],o=r[1],n=r[2],s=R(m,{A:a,B:o,C:n}),i=s.angle,c=s.direction,x=s.distance,b=0>c?1:g(1,t(1-i/(f/2))+d(x/l,6));return 1-(b*p+h)};a=x(0,a-b([0,0,-1])),r=x(0,r-b([0,0,1])),o=x(0,o-b([-1,0,0])),n=x(0,n-b([1,0,0])),s=x(0,s-b([0,1,0])),i=x(0,i-b([0,-1,0]))});var c={front:r,back:a,left:o,right:n,top:s,bottom:i};m(c).forEach(function(e){G[e].shader.style.opacity=c[e]})},setMesh:e,getMesh:function getMesh(){return K},getDomElement:function getDomElement(){return j},getAnimatedElement:function getAnimatedElement(){return q}});function e(){var e=0<arguments.length&&arguments[0]!==void 0?arguments[0]:{};if(e.constructor===A){var t=K;t&&t.off("change"),K=e,K.on("change",function(){B();J.trigger("change:mesh",{target:J,mesh:K})}),B()}}function t(e){if(e)U=e,q.setAttribute("class","animated-up"),o();else throw"Scene required to add voxel to scene"}function r(e){if(e)U=e,q.setAttribute("class","animated-down"),o();else throw"Scene required to add voxel to scene"}function a(e){if(e)U=e,q.setAttribute("class","animated"),o();else throw"Scene required to add voxel to scene"}function o(){U.add(J)}function n(){U&&U.remove(J)}function h(e){v(e)&&(Q=e)}function I(){return Q}function D(){return new s([J.getPositionX(),J.getPositionY(),J.getPositionZ()],Q,{mesh:K})}function R(e,t){var r=U.getRotationX(),a=U.getRotationY(),o=U.getRotationZ(),n=b(r,-a,o),s=t.A,i=t.B,m=t.C,g=M(e,n);g={x:g.x-J.getPositionX()-s*I()/2,y:g.y-J.getPositionY()-i*I()/2,z:g.z-J.getPositionZ()-m*I()/2};var f=g,h=f.x,x=f.y,v=f.z,u=p(d(h,2)+d(x,2)+d(v,2)),k=1===c(m)?m*v:1===c(i)?i*x:s*h,w=l(c(h*s+x*i+v*m)/u);return{angle:w,direction:k,distance:u}}function M(e,t){var r=_slicedToArray(e,3),a=r[0],o=r[1],n=r[2],s=k(t,[[a],[o],[n]]);return{x:s[0][0],y:s[1][0],z:s[2][0]}}function B(){var e=K.getFaces();P.forEach(function(t){var r=e[t],a=G[t];if(r instanceof E&&(a.src=r.getSource(),a.removeAttribute("class")),r instanceof S){var o=a.parentElement;o.style.background="#"+r.getHex(),a.setAttribute("class","colored")}})}function Z(){j=X("div","voxelcss-cube"),q=X("div","animated"),P.forEach(function(e){return Y(e)}),j.appendChild(q)}function Y(t){var e={top:C(Q/2),bottom:C(-Q/2),left:T(-Q/2),right:T(Q/2),front:F(Q/2),back:F(-Q/2)},r=P.reduce(function(e,t){return i(e,_defineProperty({},t,function(){return J.trigger("click:"+t,{target:J})}))},{}),a=X("img",""),o=X("div","shader"),n=X("div","voxelcss-face "+t);G[t]=i(a,{shader:o}),i(n.style,{width:L(Q),height:L(Q),marginLeft:L(-1*Q/2),marginTop:L(-1*Q/2),transform:e[t]}),n.addEventListener("click",r[t]),n.addEventListener("contextmenu",function(t){return t.preventDefault(),J.trigger("contextmenu",{target:J}),!1}),n.addEventListener("touchstart",function(){H=setTimeout(function(){return J.trigger("contextmenu",{target:J})},_)}),n.addEventListener("touchend",function(a){a.preventDefault(),clearTimeout(H),r[t]()}),n.appendChild(a),n.appendChild(o),q.appendChild(n)}function X(e,t){var r=document.createElement(e);return r.setAttribute("class",t),r}function O(){var e=J.getPosition(),t=e.x,r=e.y,a=e.z;j.style.transform="translate3d("+t+"px, "+-r+"px, "+a+"px)"}J.on("move",O),h(V),Z(),J.setPosition(N),e(u(W.mesh)?new A:W.mesh)}var i=Object.assign,m=Object.keys,c=Math.abs,l=Math.asin,x=r,g=Math.min,f=a,d=t,p=e,h=o("./common"),b=h.generateRotationMatrix,v=h.isNumber,u=h.isUndefined,k=h.multiplyMatrices,w=o("./events"),y=o("./positioned"),A=o("./Mesh"),E=o("./ImageFace"),S=o("./ColorFace"),_=250,z=50,P=["top","bottom","front","back","left","right"],L=function(e){return e+"px"},F=function(e){return"translateZ("+e+"px)"},C=function(e){return"rotateX(90deg) "+F(e)},T=function(e){return"rotateY(90deg) "+F(e)};n.exports=s},{"./ColorFace":2,"./ImageFace":4,"./Mesh":6,"./common":10,"./events":11,"./positioned":14}],9:[function(e,t){"use strict";var r=Object.assign,a=e("./Mesh"),o=e("./Voxel");t.exports=function(e,t){function n(t){return x.push(t),e.add(t)}function s(t){var r=x.indexOf(t),a=-1<r;return a&&(e.remove(t),x.splice(r,1)),a}function i(){for(;0<x.length;)s(x[0])}function m(){return JSON.stringify(x.map(function(e){return l(e)}))}function c(e){if("string"==typeof e)try{i(),JSON.parse(e).forEach(function(e){var t=e.dimension,r=e.mesh,s=e.position,i=s.x,m=s.y,c=s.z,l=new o([i,m,c],t);l.setMesh(a.loadFromSerial(r)),n(l)})}catch(t){throw"Cannot import voxel data"}else throw"Only serialized data can be imported"}function l(e){return{position:e.getPosition(),dimension:e.getDimension(),mesh:e.getMesh().serialize()}}if(e===void 0)throw"World cannot be instantiated without a Scene instance";var x=[],g=function(){return"savedWorld<"+(t||"*")+">"};r(this,{add:n,remove:s,clear:i,getScene:function getScene(){return e},getVoxels:function getVoxels(){return x},import:c,export:m,load:function load(){return c(localStorage.getItem(g())||"[]")},isSaved:function isSaved(){return!!localStorage.getItem(g())},save:function save(){return localStorage.setItem(g(),m())},deleteSave:function deleteSave(){return localStorage.setItem(g(),"")}})}},{"./Mesh":6,"./Voxel":8}],10:[function(r,a){"use strict";function o(e,t){for(var a=e.length,o=e[0].length,n=t[0].length,s=Array(a),m=0;m<a;++m){s[m]=Array(n);for(var r=0;r<n;++r){s[m][r]=0;for(var c=0;c<o;++c)s[m][r]+=e[m][c]*t[c][r]}}return s}var n=Math.cos,s=Math.sin,i=16,m=16,c=function(e){return"number"==typeof e},l=function(e){return t(e,2)};a.exports={findKeyWithValue:function(e,t){var r=Object.keys(e),a=r.map(function(r,a){return e[r]===t&&a}).find(c);return r[a]},generateRotationMatrix:function(e,t,r){var a=[[1,0,0],[0,n(e),-s(e)],[0,s(e),n(e)]],i=[[n(t),0,s(t)],[0,1,0],[-s(t),0,n(t)]],m=[[n(r),-s(r),0],[s(r),n(r),0],[0,0,1]];return o(o(m,i),a)},hexToRgb:function(e){var t=/^#?([a-f\d])([a-f\d])([a-f\d])$/i;e=e.replace(t,function(e,t,r,a){return t+t+r+r+a+a});var r=/^#?([a-f\d]{2})([a-f\d]{2})([a-f\d]{2})$/i.exec(e);return r?{r:parseInt(r[1],i),g:parseInt(r[2],i),b:parseInt(r[3],i)}:null},isNumber:c,isShiftKey:function isShiftKey(t){return t.keyCode===m||t.which===m},isUndefined:function isUndefined(e){return e===void 0},mapValues:function(e,t){return Object.keys(e).map(function(r){return _defineProperty({},r,t(e[r]))}).reduce(function(e,t){return Object.assign(e,t)},{})},not:function(e){return function(){return!e.apply(void 0,arguments)}},multiplyMatrices:o,rgbToHex:function(e){var t=e.r,r=e.g,a=e.b;return""+(16777216+(t<<16)+(r<<8)+a).toString(16).slice(1)},squared:l,constant:function constant(e){return function(){return e}},getDistance:function getDistance(t,r){return e(l(t)+l(r))},identity:function identity(e){return e}}},{}],11:[function(e,t){"use strict";function a(e,t){this.id=e._listenId,this.listener=e,this.obj=t,this.interop=!0,this.count=0,this._events=void 0}var o=Object.assign,n=/\s+/,s=0,i=function(e){return""+(e+ ++s)},m=function(e){var t,r=2;return function(){if(0<--r){for(var a=arguments.length,o=Array(a),n=0;n<a;n++)o[n]=arguments[n];t=e.apply(this,o)}return 1>=r&&(e=null),t}},c=function(e){return function(t){return null===t?void 0:t[e]}},l=function(e){var t=c("length")(e);return"number"==typeof t&&0<=t&&t<=Number.MAX_SAFE_INTEGER},x=function(e){var t="undefined"==typeof e?"undefined":_typeof(e);return"function"===t||"object"===t&&!!e},g=function(e){return!(null!==e)||(l(e)&&(Array.isArray(e)||"string"==typeof e)?0===e.length:0===Object.keys(e).length)},f=function(e,t,r,a){try{e.on(t,r,a)}catch(t){return t}},d=void 0,p=function(e,t,r,a){if(r){var o=e[t]||(e[t]=[]),n=a.context,s=a.listening,i=a.ctx;i=n||i,s&&s.count++,o.push({callback:r,context:n,ctx:i,listening:s})}return e},h=function(e,t,r,a){if(e){var o=a.context,n=a.listeners,s=void 0;return t||o||r?(s=t?[t]:Object.keys(e),s.forEach(function(t){var a=e[t];if(a){var n=[];a.forEach(function(e){if(r&&r!==e.callback&&r!==e.callback._callback||o&&o!==e.context)n.push(e);else{var a=e.listening;a&&a.off(t,r)}}),n.length?e[t]=n:delete e[t]}}),e):(s=x(n)?Object.keys(n):[],void s.forEach(function(e){return n[e].cleanup()}))}},b=function(e,t,r,a){if(r){var o=e[t]=m(function(){a(t,o);for(var e=arguments.length,n=Array(e),s=0;s<e;s++)n[s]=arguments[s];r.apply(this,n)});o._callback=r}return e},v=function(e,t,r,a,o){var s=r&&"object"===("undefined"==typeof r?"undefined":_typeof(r));if(s){var i=void 0!==a&&"context"in o&&void 0===o.context;i&&(o.context=a),Object.keys(r).forEach(function(a){t=v(e,t,a,r[a],o)})}else r&&n.test(r)?r.split(n).forEach(function(r){t=e(t,r,a,o)}):t=e(t,r,a,o);return t},u=function(e,t){var r,a=-1,o=e.length,n=_slicedToArray(t,3),s=n[0],i=n[1],m=n[2];switch(t.length){case 0:for(;++a<o;)(r=e[a]).callback.call(r.ctx);break;case 1:for(;++a<o;)(r=e[a]).callback.call(r.ctx,s);break;case 2:for(;++a<o;)(r=e[a]).callback.call(r.ctx,s,i);break;case 3:for(;++a<o;)(r=e[a]).callback.call(r.ctx,s,i,m);break;default:for(;++a<o;)(r=e[a]).callback.apply(r.ctx,t);}},k=function(e,t,r,a){if(e){var o=e[t],n=e.all;o&&n&&(n=n.slice()),o&&u(o,a),n&&u(n,[t].concat(a))}return e},w={on:function on(e,t,r){if(this._events=v(p,this._events||{},e,t,{context:r,ctx:this,listening:d}),d){var a=this._listeners||(this._listeners={});a[d.id]=d,d.interop=!1}return this},off:function off(e,t,r){return this._events?(this._events=v(h,this._events,e,t,{context:r,listeners:this._listeners}),this):this},once:function(e,t,r){var a=v(b,{},e,t,this.off.bind(this));return"string"==typeof e&&null===r&&(t=void 0),this.on(a,t,r)},trigger:function trigger(e){if(this._events){for(var t=r(0,arguments.length-1),a=Array(t),o=0;o<t;o++)a[o]=arguments[o+1];v(k,this._events,e,void 0,a)}return this},listenTo:function listenTo(e,t,r){if(e){var o=e._listenId||(e._listenId=i("l")),n=this._listeningTo||(this._listeningTo={}),s=d=n[o];s||(this._listenId||(this._listenId=i("l")),s=d=n[o]=new a(this,e));var m=f(e,t,r,this);if(d=void 0,m)throw m;s.interop&&s.on(t,r)}return this},listenToOnce:function listenToOnce(e,t,r){var a=v(b,{},t,r,this.stopListening.bind(this,e));return this.listenTo(e,a)},stopListening:function stopListening(e,t,r){var a=this,o=this._listeningTo;if(o){var n=e?[e._listenId]:Object.keys(o);n.forEach(function(e){var n=o[e];n&&(n.obj.off(t,r,a),n.interop&&n.off(t,r))}),g(o)&&(this._listeningTo=void 0)}return this}};o(a.prototype,{on:w.on,off:function off(e,t){var r;this.interop?(this._events=v(h,this._events,e,t,{context:void 0,listeners:void 0}),r=!this._events):(this.count--,r=0===this.count),r&&this.cleanup()},cleanup:function cleanup(){delete this.listener._listeningTo[this.obj._listenId],this.interop||delete this.obj._listeners[this.id]}}),t.exports=w},{}],12:[function(e,t){"use strict";e("../dist/voxelcss.css");var r=e("./ColorFace"),a=e("./Editor"),o=e("./ImageFace"),n=e("./LightSource"),s=e("./Mesh"),i=e("./meshes"),m=e("./Scene"),c=e("./Voxel"),l=e("./World");t.exports={ColorFace:r,Editor:a,ImageFace:o,LightSource:n,Mesh:s,meshes:i,Scene:m,Voxel:c,World:l}},{"../dist/voxelcss.css":1,"./ColorFace":2,"./Editor":3,"./ImageFace":4,"./LightSource":5,"./Mesh":6,"./Scene":7,"./Voxel":8,"./World":9,"./meshes":13}],13:[function(e,t){"use strict";var r=e("./Mesh"),a=e("./ImageFace");t.exports={dirt:new r(new a("http://voxelcss.com/res/dirt/main.png")),grass:new r({top:new a("http://voxelcss.com/res/grass/top.png"),bottom:new a("http://voxelcss.com/res/grass/bottom.png"),front:new a("http://voxelcss.com/res/grass/side.png"),back:new a("http://voxelcss.com/res/grass/side.png"),left:new a("http://voxelcss.com/res/grass/side.png"),right:new a("http://voxelcss.com/res/grass/side.png")}),water:new r(new a("http://voxelcss.com/res/water/main.png")),waterFall:new r({top:new a("http://voxelcss.com/res/water/main.png"),bottom:new a("http://voxelcss.com/res/water/main.png"),front:new a("http://voxelcss.com/res/water/fall.png"),back:new a("http://voxelcss.com/res/water/fall.png"),left:new a("http://voxelcss.com/res/water/fall.png"),right:new a("http://voxelcss.com/res/water/fall.png")}),waterFallTop:new r({top:new a("http://voxelcss.com/res/water/main.png"),bottom:new a("http://voxelcss.com/res/water/main.png"),front:new a("http://voxelcss.com/res/water/falltop.png"),back:new a("http://voxelcss.com/res/water/falltop.png"),left:new a("http://voxelcss.com/res/water/falltop.png"),right:new a("http://voxelcss.com/res/water/falltop.png")}),waterFallCrash:new r({top:new a("http://voxelcss.com/res/water/main.png"),bottom:new a("http://voxelcss.com/res/water/main.png"),front:new a("http://voxelcss.com/res/water/crash.png"),back:new a("http://voxelcss.com/res/water/crash.png"),left:new a("http://voxelcss.com/res/water/crash.png"),right:new a("http://voxelcss.com/res/water/crash.png")}),treeTrunk:new r({top:new a("http://voxelcss.com/res/tree/rings.png"),bottom:new a("http://voxelcss.com/res/tree/rings.png"),front:new a("http://voxelcss.com/res/tree/bark.png"),back:new a("http://voxelcss.com/res/tree/bark.png"),left:new a("http://voxelcss.com/res/tree/bark.png"),right:new a("http://voxelcss.com/res/tree/bark.png")}),treeLeaves:new r(new a("http://voxelcss.com/res/tree/leaves.png"))}},{"./ImageFace":4,"./Mesh":6}],14:[function(e,t){"use strict";var r=Object.assign,a=e("./common"),o=a.isNumber;t.exports=function(e){function t(e){return o(e)?void(l.x=e,g&&c.trigger("move")):l.x}function a(e){return o(e)?void(l.y=e,g&&c.trigger("move")):l.y}function n(e){return o(e)?void(l.z=e,g&&c.trigger("move")):l.z}function s(e){return o(e)?t(e+l.x):l.x}function i(e){return o(e)?a(e+l.y):l.y}function m(e){return o(e)?n(e+l.z):l.z}var c=e||new Function,l={x:0,y:0,z:0},g=!0;return r(c,{setPosition:function(e){var r=_slicedToArray(e,3),o=r[0],s=r[1],i=r[2];return g=!1,t(o),a(s),n(i),g=!0,c.trigger("move"),c},setPositionX:t,setPositionY:a,setPositionZ:n,getPosition:function(){return l},getPositionX:function(){return l.x},getPositionY:function(){return l.y},getPositionZ:function(){return l.z},translate:function(e,t,r){return g=!1,s(e),i(t),m(r),g=!0,c.trigger("move"),c},translateX:s,translateY:i,translateZ:m}),c}},{"./common":10}],15:[function(e,t){"use strict";var r=[],a=function(e,t){var a=document.head||document.getElementsByTagName("head")[0],o=r[r.length-1];if(t=t||{},t.insertAt=t.insertAt||"bottom","top"===t.insertAt)o?o.nextSibling?a.insertBefore(e,o.nextSibling):a.appendChild(e):a.insertBefore(e,a.firstChild),r.push(e);else if("bottom"===t.insertAt)a.appendChild(e);else throw new Error("Invalid value for parameter 'insertAt'. Must be 'top' or 'bottom'.")};t.exports={createLink:function createLink(e,t){var r=document.head||document.getElementsByTagName("head")[0],a=document.createElement("link");for(var o in a.href=e,a.rel="stylesheet",t)if(t.hasOwnProperty(o)){var n=t[o];a.setAttribute("data-"+o,n)}r.appendChild(a)},createStyle:function createStyle(e,t,r){r=r||{};var o=document.createElement("style");for(var n in o.type="text/css",t)if(t.hasOwnProperty(n)){var s=t[n];o.setAttribute("data-"+n,s)}o.sheet?(o.innerHTML=e,o.sheet.cssText=e,a(o,{insertAt:r.insertAt})):o.styleSheet?(a(o,{insertAt:r.insertAt}),o.styleSheet.cssText=e):(o.appendChild(document.createTextNode(e)),a(o,{insertAt:r.insertAt}))}}},{}]},{},[12])(12)});
